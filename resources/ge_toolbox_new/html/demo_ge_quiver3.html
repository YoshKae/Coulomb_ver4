<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      -->
      <title>Demo ge_quiver3</title>
      <meta name="generator" content="MATLAB 7.2">
      <meta name="date" content="2007-02-15">
      <meta name="m-file" content="demo_ge_quiver3"><style>

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows.  On Gecko-based browsers, the shrink-to-fit doesn't work. */ 
p,h1,h2,div.content div {
  /* for MATLAB's browser */
  width: 600px;
  /* for Mozilla, but the "width" tag overrides it anyway */
  max-width: 600px;
  /* for IE */
  width:expression(document.body.clientWidth > 620 ? "600px": "auto" );
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head>
   <body>
      <div class="content">
         <h1>Demo ge_quiver3</h1>
         <p>Example usage of the ge_quiver3 function.   XM, YM, ZM, UM, VM, WM should be the same constructs as used by the quiver3()
            function. 'help ge_quiver3' for more info.
         </p><pre class="codeinput">N = 60;

t = linspace(0,2*pi,N);

x_red = zeros(N,1);
y_red = linspace(0,90,N);
z_red = 1e5*ones(N,1);

u_red = sin(t);
v_red = zeros(N,1);
w_red = cos(t);

x_green = linspace(0,90,N);
y_green = zeros(N,1);
z_green = 1e5*ones(N,1);

u_green = zeros(N,1);
v_green = sin(t);
w_green = cos(t);

x_blue = 10*sin(t);
y_blue = 10*cos(t);
z_blue = 1e5*ones(N,1);

u_blue = sin(t);
v_blue = cos(t);
w_blue = ones(N,1)*0.5*pi;

<span class="comment">%[x_yellow, y_yellow] = meshgrid(-2:0.25:2,-1:0.2:1);</span>
<span class="comment">%z_yellow = x_yellow .* exp(-x_yellow.^2 - y_yellow.^32);</span>
<span class="comment">%[u_yellow,v_yellow,w_yellow] = surfnorm(x_yellow,y_yellow,z_yellow);</span>

d = date;
dnum = datevec( d );
s_red = <span class="string">''</span>;
s_blue = <span class="string">''</span>;
s_green = <span class="string">''</span>;

<span class="keyword">for</span> n = 1:(N-1)

    dnum2 = dnum;
    dnum3 = dnum;
    dnum2(5) = dnum(5) + n;
    dnum3(5) = dnum(5) + n +1;
    dstr = datestr( dnum2, <span class="string">'yyyy-mm-ddTHH:MM:SSZ'</span>);
    dstr2 = datestr( dnum3, <span class="string">'yyyy-mm-ddTHH:MM:SSZ'</span>);

    s_red = [s_red ge_quiver3(x_red(n),y_red(n),z_red(n),u_red(n),v_red(n),w_red(n),<span class="keyword">...</span>
                            <span class="string">'modelLinkStr'</span>,<span class="string">'elong_cube_red_lite.dae'</span>,<span class="keyword">...</span>
                            <span class="string">'altitudeMode'</span>,<span class="string">'absolute'</span>,<span class="keyword">...</span>
                            <span class="string">'arrowScale'</span>,2.5e6,<span class="keyword">...</span>
                            <span class="string">'timeSpanStart'</span>, char(dstr), <span class="keyword">...</span>
                            <span class="string">'timeSpanStop'</span>, char(dstr2 ), <span class="keyword">...</span>
                            <span class="string">'placemarkName'</span>, <span class="string">'quiver3 - red'</span>) ];

    s_green = [s_green ge_quiver3(x_green(n),y_green(n),z_green(n),u_green(n),v_green(n),w_green(n),<span class="keyword">...</span>
                            <span class="string">'modelLinkStr'</span>,<span class="string">'elong_cube_green_lite.dae'</span>,<span class="keyword">...</span>
                            <span class="string">'altitudeMode'</span>,<span class="string">'absolute'</span>,<span class="keyword">...</span>
                            <span class="string">'arrowScale'</span>,2.5e6,<span class="keyword">...</span>
                            <span class="string">'timeSpanStart'</span>, char(dstr), <span class="keyword">...</span>
                            <span class="string">'timeSpanStop'</span>, char(dstr2 ), <span class="keyword">...</span>
                            <span class="string">'placemarkName'</span>, <span class="string">'quiver3 - green'</span>)];

    s_blue = [s_blue ge_quiver3(x_blue(n),y_blue(n),z_blue(n),u_blue(n),v_blue(n),w_blue(n),<span class="keyword">...</span>
                            <span class="string">'modelLinkStr'</span>,<span class="string">'elong_cube_blue_lite.dae'</span>,<span class="keyword">...</span>
                            <span class="string">'altitudeMode'</span>,<span class="string">'absolute'</span>,<span class="keyword">...</span>
                            <span class="string">'arrowScale'</span>,2.5e6,<span class="keyword">...</span>
                            <span class="string">'timeSpanStart'</span>, char(dstr), <span class="keyword">...</span>
                            <span class="string">'timeSpanStop'</span>, char(dstr2 ), <span class="keyword">...</span>
                            <span class="string">'placemarkName'</span>, <span class="string">'quiver3 - blue'</span>) ];

<span class="comment">%    s_yellow = ge_quiver3(x_yellow,y_yellow,z_yellow,u_yellow,v_yellow,w_yellow,...</span>
<span class="comment">%                            'modelLinkStr','yellow_arrow.dae',...</span>
<span class="comment">%                            'altitudeMode','absolute',...</span>
<span class="comment">%                            'arrowScale',1e6,...</span>
<span class="comment">%                            'placemarkName', 'quiver3 - yellow arrow');</span>

<span class="keyword">end</span>

filename = <span class="string">'demo_ge_quiver3'</span>;

s_redf = ge_folder(<span class="string">'red'</span>, s_red);
s_greenf = ge_folder(<span class="string">'green'</span>, s_green);
s_bluef = ge_folder(<span class="string">'blue'</span>, s_blue);
ge_output(strcat(filename,<span class="string">'.kml'</span>),[s_redf,s_greenf,s_bluef]);<span class="comment">%,s_yellow])</span>

zip(strcat(filename,<span class="string">'.kmz'</span>),{ strcat(filename,<span class="string">'.kml'</span>), <span class="keyword">...</span>
                   <span class="string">'yellow_arrow.dae'</span>, <span class="keyword">...</span>
                   <span class="string">'elong_cube_red_lite.dae'</span>,<span class="keyword">...</span>
                   <span class="string">'elong_cube_green_lite.dae'</span>,<span class="keyword">...</span>
                   <span class="string">'elong_cube_blue_lite.dae'</span>});

<span class="keyword">if</span> ispc
    eval( [<span class="string">'!del '</span>, filename, <span class="string">'.kml'</span>] );
    eval( [<span class="string">'!move '</span>, filename, <span class="string">'.kmz.zip '</span>, filename, <span class="string">'.kmz'</span> ] );
<span class="keyword">else</span>
    eval( [<span class="string">'!rm '</span>, filename, <span class="string">'.kml'</span>] );
<span class="keyword">end</span>
</pre><p class="footer"><br>
            Published with MATLAB&reg; 7.2<br></p>
      </div>
      <!--
##### SOURCE BEGIN #####
%% Demo ge_quiver3
% Example usage of the ge_quiver3 function.
%   XM, YM, ZM, UM, VM, WM should be the same constructs as used by the quiver3() function.  
% 'help ge_quiver3' for more info.

N = 60;

t = linspace(0,2*pi,N);

x_red = zeros(N,1);
y_red = linspace(0,90,N);
z_red = 1e5*ones(N,1);

u_red = sin(t);
v_red = zeros(N,1);
w_red = cos(t);

x_green = linspace(0,90,N);
y_green = zeros(N,1);
z_green = 1e5*ones(N,1);

u_green = zeros(N,1);
v_green = sin(t);
w_green = cos(t);

x_blue = 10*sin(t);
y_blue = 10*cos(t);
z_blue = 1e5*ones(N,1);

u_blue = sin(t);
v_blue = cos(t);
w_blue = ones(N,1)*0.5*pi;

%[x_yellow, y_yellow] = meshgrid(-2:0.25:2,-1:0.2:1);
%z_yellow = x_yellow .* exp(-x_yellow.^2 - y_yellow.^32);
%[u_yellow,v_yellow,w_yellow] = surfnorm(x_yellow,y_yellow,z_yellow);

d = date;
dnum = datevec( d );
s_red = '';
s_blue = '';
s_green = '';

for n = 1:(N-1)
    
    dnum2 = dnum;
    dnum3 = dnum;
    dnum2(5) = dnum(5) + n;
    dnum3(5) = dnum(5) + n +1;
    dstr = datestr( dnum2, 'yyyy-mm-ddTHH:MM:SSZ');
    dstr2 = datestr( dnum3, 'yyyy-mm-ddTHH:MM:SSZ');   
    
    s_red = [s_red ge_quiver3(x_red(n),y_red(n),z_red(n),u_red(n),v_red(n),w_red(n),...
                            'modelLinkStr','elong_cube_red_lite.dae',...
                            'altitudeMode','absolute',...
                            'arrowScale',2.5e6,...
                            'timeSpanStart', char(dstr), ...
                            'timeSpanStop', char(dstr2 ), ...
                            'placemarkName', 'quiver3 - red') ];

    s_green = [s_green ge_quiver3(x_green(n),y_green(n),z_green(n),u_green(n),v_green(n),w_green(n),...
                            'modelLinkStr','elong_cube_green_lite.dae',...
                            'altitudeMode','absolute',...
                            'arrowScale',2.5e6,...
                            'timeSpanStart', char(dstr), ...
                            'timeSpanStop', char(dstr2 ), ...                            
                            'placemarkName', 'quiver3 - green')];

    s_blue = [s_blue ge_quiver3(x_blue(n),y_blue(n),z_blue(n),u_blue(n),v_blue(n),w_blue(n),...
                            'modelLinkStr','elong_cube_blue_lite.dae',...
                            'altitudeMode','absolute',...
                            'arrowScale',2.5e6,...
                            'timeSpanStart', char(dstr), ...
                            'timeSpanStop', char(dstr2 ), ...                            
                            'placemarkName', 'quiver3 - blue') ];

%    s_yellow = ge_quiver3(x_yellow,y_yellow,z_yellow,u_yellow,v_yellow,w_yellow,...
%                            'modelLinkStr','yellow_arrow.dae',...
%                            'altitudeMode','absolute',...
%                            'arrowScale',1e6,...
%                            'placemarkName', 'quiver3 - yellow arrow');
    
end

filename = 'demo_ge_quiver3';

s_redf = ge_folder('red', s_red);
s_greenf = ge_folder('green', s_green);
s_bluef = ge_folder('blue', s_blue);
ge_output(strcat(filename,'.kml'),[s_redf,s_greenf,s_bluef]);%,s_yellow])

zip(strcat(filename,'.kmz'),{ strcat(filename,'.kml'), ...
                   'yellow_arrow.dae', ...
                   'elong_cube_red_lite.dae',...
                   'elong_cube_green_lite.dae',...
                   'elong_cube_blue_lite.dae'});

if ispc
    eval( ['!del ', filename, '.kml'] );
    eval( ['!move ', filename, '.kmz.zip ', filename, '.kmz' ] );
else
    eval( ['!rm ', filename, '.kml'] );
end


##### SOURCE END #####
-->
   </body>
</html>